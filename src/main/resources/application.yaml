spring:
  profiles:
    active:
      - dev
  datasource:
    url: jdbc:postgresql://localhost:15432/postgres
    username: spring-boot-starter-user
    password: spring-boot-starter-password
  docker:
    compose:
      lifecycle-management: START_AND_STOP
      stop:
        command: down
        arguments: --volumes --remove-orphans
      skip:
        in-tests: true
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        ddl-auto: create-drop
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false
  data:
    redis:
      host: localhost
      port:
        - "6379:6379"
  elasticsearch:
    uris: http://localhost:9200
    username: elastic
    password: changeme
  jackson:
    serialization:
      write-dates-as-timestamps: false

logging:
  pattern:
    level: "%5p [trace=%X{traceId}]"
  audit:
    enabled: true
    async: true
    retention-days: 365
  application:
    enabled: true
    async: true
    elasticsearch:
      index-pattern: "application-logs-{yyyy.MM}"
      retention-days: 90

management:
  endpoints:
    web:
      exposure:
        include: health,info

application:
  security:
    jwt-secret: change-me-change-me-change-me-change-me
    access-token-ttl: PT15M
    refresh-token-ttl: P7D
    email-verification-token-ttl: PT24H
    password-reset-token-ttl: PT1H
    public-endpoints:
      - /actuator/**
      - /swagger-ui/**
      - /v3/api-docs/**
      - /api/v1/auth/**
  rate-limit:
    capacity: 100
    refill-period: PT1M
